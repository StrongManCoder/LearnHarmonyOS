import { it } from '@ohos/hypium'
//è‡ªå®šä¹‰ç»„ä»¶
import {Header} from '../../Component/CommonCOmponent'

//å…¨å±€å…¬å…±æ ·å¼   ç»„ä»¶å†…ä½¿ç”¨å»æ‰functionå³å¯
@Styles function  fillScreen(){
  .width('100%')
  .height('100%')
  .backgroundColor('#EFEFEF')
  .padding(20)

}

//ç»§æ‰¿æ¨¡å¼  åªèƒ½å…¨å±€æ¨¡å¼
@Extend(Text) function  priceText(){
  .fontColor('#F36')
  .fontSize(18)

}




//å…¨å±€è‡ªå®šä¹‰ç»„ä»¶å‡½æ•° å¯ä»¥ç›´æ¥è°ƒç”¨   ä¸€ä¸ªé¡µé¢æœ‰å¤šä¸ª Component
// @Builder function  ItemCard(item: Item){
//
//   Row({space:10}){
//     Image(item.image)
//       .width(100)
//     Column({space:4}){
//       if(item.discount){
//         Text(item.name)
//           .fontSize(20)
//           .fontWeight(FontWeight.Bold)
//         Text('ğŸ’°åŸä»·' + item.price)
//           .fontColor('#CCC')
//           .fontSize(14)
//           .decoration({type : TextDecorationType.LineThrough})
//
//         Text('ğŸ’°æŠ˜æ‰£ä»·' + (item.price-item.discount))
//           .fontColor('#F36')
//           .fontSize(18)
//         Text('ğŸ’°æŠ˜è¡¥è´´' + item.discount)
//           .fontColor('#F36')
//           .fontSize(18)
//
//       }else {
//         Text(item.name)
//           .fontSize(20)
//           .fontWeight(FontWeight.Bold)
//         Text('ğŸ’°' + item.price)
//           .fontColor('#F36')
//           .fontSize(18)
//       }
//
//     }
//     .alignItems(HorizontalAlign.Start)
//   }
//   .width('100%')
//   .backgroundColor('#FFF')
//   .borderRadius(20)
//   .height(120)
//   .padding(10)
// }



class Item{
  name:string
  image:ResourceStr
  price:number
  discount:number

  constructor(name:string,image:ResourceStr,price:number,discount:number = 0) {
    this.name = name
    this.image = image
    this.price = price
    this.discount = discount
  }
}




@Entry
@Component
struct Shoplist {

  private  items :Array<Item> = [
    new Item('åä¸ºMate60',$r('app.media.startIcon'),69999,500),
    new Item('åä¸ºMate70',$r('app.media.app_icon'),79999,888),
    new Item('åä¸ºMate80',$r('app.media.startIcon'),89999),
    new Item('åä¸ºMate90',$r('app.media.startIcon'),99999,1278),
    new Item('åä¸ºMate100',$r('app.media.startIcon'),59999),
    new Item('åä¸ºMate110',$r('app.media.startIcon'),59999),
    new Item('åä¸ºMate120',$r('app.media.startIcon'),59999),
    new Item('åä¸ºMate60',$r('app.media.startIcon'),69999,500),
    new Item('åä¸ºMate70',$r('app.media.app_icon'),79999,888),
    new Item('åä¸ºMate80',$r('app.media.startIcon'),89999),
    new Item('åä¸ºMate90',$r('app.media.startIcon'),99999,1278),
    new Item('åä¸ºMate100',$r('app.media.startIcon'),59999),
    new Item('åä¸ºMate110',$r('app.media.startIcon'),59999),
    new Item('åä¸ºMate120',$r('app.media.startIcon'),59999),
  ];

  build() {

    Column({space:8}) {

      Header({title:'å•†å“åˆ—è¡¨'})
        .margin(20)
      List({space:8}){

        ForEach(
          this.items,
          (item:Item) => {
            ListItem(){
              this.ItemCard(item)
            }
          }
        )


      }
      .width('100%')
      .height('100%')
      .layoutWeight(1)

    }
    .fillScreen()
  }


  //å±€éƒ¨ç»„ä»¶   è°ƒç”¨this.è°ƒç”¨
  @Builder  ItemCard(item: Item){

  Row({space:10}){
    Image(item.image)
      .width(100)
    Column({space:4}){
      if(item.discount){
        Text(item.name)
          .fontSize(20)
          .fontWeight(FontWeight.Bold)
        Text('ğŸ’°åŸä»·' + item.price)
          .fontColor('#CCC')
          .fontSize(14)
          .decoration({type : TextDecorationType.LineThrough})

        Text('ğŸ’°æŠ˜æ‰£ä»·' + (item.price-item.discount))
          .priceText()
        Text('ğŸ’°æŠ˜è¡¥è´´' + item.discount)
          .priceText()

      }else {
        Text(item.name)
          .fontSize(20)
          .fontWeight(FontWeight.Bold)
        Text('ğŸ’°' + item.price)
          .priceText()
      }

    }
    .alignItems(HorizontalAlign.Start)
  }
  .width('100%')
  .backgroundColor('#FFF')
  .borderRadius(20)
  .height(120)
  .padding(10)
}


}